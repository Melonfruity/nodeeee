{"ast":null,"code":"import t, { Component as e } from \"react\";\nimport n from \"prop-types\";\n\nfunction i(t, e) {\n  for (var n = 0; n < e.length; n++) {\n    var i = e[n];\n    i.enumerable = i.enumerable || !1, i.configurable = !0, \"value\" in i && (i.writable = !0), Object.defineProperty(t, i.key, i);\n  }\n}\n\nfunction o(t, e, n) {\n  return e in t ? Object.defineProperty(t, e, {\n    value: n,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : t[e] = n, t;\n}\n\nfunction a() {\n  return (a = Object.assign || function (t) {\n    for (var e = 1; e < arguments.length; e++) {\n      var n = arguments[e];\n\n      for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i]);\n    }\n\n    return t;\n  }).apply(this, arguments);\n}\n\nfunction s(t) {\n  return (s = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {\n    return t.__proto__ || Object.getPrototypeOf(t);\n  })(t);\n}\n\nfunction r(t, e) {\n  return (r = Object.setPrototypeOf || function (t, e) {\n    return t.__proto__ = e, t;\n  })(t, e);\n}\n\nfunction l(t) {\n  if (void 0 === t) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  return t;\n}\n\nvar _ = \"styles_Editext__button__6H8n_\",\n    c = \"styles_Editext__input__1534X\",\n    u = \"styles_Editext__main_container__2Y-IL\",\n    d = \"styles_Editext__editing_container__3yvUv\",\n    p = \"styles_Editext__view_container__2l2kB\",\n    v = \"styles_Editext__buttons_container__1kphL\",\n    f = \"styles_Editext__buttons_showButtonsOnHover__EUUD5\",\n    h = \"styles_Editext__buttons_before_aligned__NnoWq\",\n    b = \"styles_Editext__buttons_after_aligned__1nlcG\",\n    y = \"styles_Editext__validation_message__3B-OU\",\n    m = \"styles_Editext__cancel_button__259hb\",\n    g = \"styles_Editext__edit_button__hthOZ\",\n    x = \"styles_Editext__save_button__3WN6q\",\n    E = \"styles_Editext__hide_default_icons__AV_7m\",\n    C = \"styles_Editext__hint__2QU2S\";\n\nfunction w() {\n  return Array.apply(void 0, arguments).filter(function (t) {\n    return t;\n  }).join(\" \");\n}\n\n!function (t, e) {\n  void 0 === e && (e = {});\n  var n = e.insertAt;\n\n  if (t && \"undefined\" != typeof document) {\n    var i = document.head || document.getElementsByTagName(\"head\")[0],\n        o = document.createElement(\"style\");\n    o.type = \"text/css\", \"top\" === n && i.firstChild ? i.insertBefore(o, i.firstChild) : i.appendChild(o), o.styleSheet ? o.styleSheet.cssText = t : o.appendChild(document.createTextNode(t));\n  }\n}(\".styles_Editext__button__6H8n_ {\\n  border-radius: 1px;\\n  outline: none;\\n  padding: 0.6em;\\n  min-width: 30px;\\n  height: 100%;\\n  border-color: rgb(216, 216, 216) rgb(209, 209, 209) rgb(186, 186, 186);\\n  border-style: solid;\\n  border-width: 1px;\\n}\\n.styles_Editext__button__6H8n_:hover {\\n  cursor: pointer;\\n  background-color: rgba(241, 241, 241, 1.00)\\n}\\n.styles_Editext__input__1534X {\\n  width: 100%;\\n  border: 1px solid rgb(212, 212, 212);\\n  padding: 0.6em;\\n  outline: none;\\n}\\n.styles_Editext__main_container__2Y-IL {\\n  display: flex;\\n  flex-direction: column;\\n}\\n.styles_Editext__editing_container__3yvUv {\\n  display: flex;\\n  flex: 1;\\n  align-items: center;\\n}\\n.styles_Editext__view_container__2l2kB {\\n  display: flex;\\n  align-items: center;\\n}\\n.styles_Editext__buttons_container__1kphL {\\n  display: flex;\\n}\\n.styles_Editext__buttons_showButtonsOnHover__EUUD5 .styles_Editext__buttons_container__1kphL {\\n  visibility: hidden;\\n}\\n.styles_Editext__buttons_showButtonsOnHover__EUUD5:hover .styles_Editext__buttons_container__1kphL {\\n  visibility: visible;\\n}\\n.styles_Editext__buttons_before_aligned__NnoWq {\\n  margin-right: 5px;\\n}\\n.styles_Editext__buttons_after_aligned__1nlcG {\\n  margin-left: 5px;\\n}\\n.styles_Editext__validation_message__3B-OU {\\n  font-weight: 500;\\n  color: crimson;\\n  font-size: .7em;\\n  margin-top: 3px;\\n}\\n.styles_Editext__cancel_button__259hb {\\n  color: crimson;\\n}\\n.styles_Editext__cancel_button__259hb:before {\\n  content: '\\\\2715';\\n  margin: 3px;\\n}\\n.styles_Editext__edit_button__hthOZ {\\n  color: #000;\\n}\\n.styles_Editext__edit_button__hthOZ:before {\\n  content: '\\\\270E';\\n  margin: 3px;\\n}\\n.styles_Editext__save_button__3WN6q {\\n  color: darkgreen;\\n  margin-right: 3px;\\n}\\n.styles_Editext__save_button__3WN6q:before {\\n  content: '\\\\2713';\\n  margin: 3px;\\n}\\n.styles_Editext__hide_default_icons__AV_7m:before {\\n  content: none;\\n  margin: 0;\\n}\\n.styles_Editext__hint__2QU2S {\\n  font-weight: 500;\\n  color: lightslategray;\\n  font-size: .7em;\\n  margin-top: 3px;\\n  text-align: left;\\n}\\n\");\n\nvar N = \"view-container\",\n    O = \"edit-container\",\n    B = \"edit-button\",\n    k = \"save-button\",\n    S = \"cancel-button\",\n    P = \"input\",\n    j = \"hint\",\n    V = function (n) {\n  function V(e) {\n    var n, i, r;\n    return function (t, e) {\n      if (!(t instanceof e)) throw new TypeError(\"Cannot call a class as a function\");\n    }(this, V), i = this, r = s(V).call(this, e), n = !r || \"object\" != typeof r && \"function\" != typeof r ? l(i) : r, o(l(n), \"handleKeyDown\", function (t) {\n      var e = n.props,\n          i = e.submitOnEnter,\n          o = e.inputProps,\n          a = e.cancelOnEscape,\n          s = [13, \"Enter\"].some(function (e) {\n        return t.keyCode === e || t.code === e;\n      }),\n          r = [27, \"Escape\", \"Esc\"].some(function (e) {\n        return t.keyCode === e || t.code === e;\n      });\n      s && (i && n.handleSave(), t.preventDefault()), r && (a && n.handleCancel(), t.preventDefault()), o.onKeyDown && o.onKeyDown(t);\n    }), o(l(n), \"handleInputChange\", function (t) {\n      n.setState({\n        valid: !0,\n        value: t.target.value\n      });\n    }), o(l(n), \"handleCancel\", function () {\n      n.setState({\n        valid: !0,\n        editing: !1,\n        value: n.state.savedValue || n.props.value\n      }, function () {\n        return n.props.onCancel(n.state.value, n.props.inputProps);\n      });\n    }), o(l(n), \"handleActivateEditMode\", function () {\n      n.setState({\n        editing: !0\n      }, function () {\n        n.props.onEditingStart(n.state.value);\n      });\n    }), o(l(n), \"handleSave\", function () {\n      var t = n.props,\n          e = t.onSave,\n          i = t.validation,\n          o = t.onValidationFail,\n          a = t.inputProps;\n      if (!i(n.state.value)) return n.setState({\n        valid: !1\n      }, function () {\n        o && o(n.state.value);\n      });\n      n.setState({\n        editing: !1,\n        savedValue: n.state.value\n      }, function () {\n        return e(n.state.savedValue, a);\n      });\n    }), o(l(n), \"_renderEditingMode\", function () {\n      var e = n.props,\n          i = e.saveButtonClassName,\n          o = e.saveButtonContent,\n          a = e.cancelButtonClassName,\n          s = e.editContainerClassName,\n          r = e.viewContainerClassName,\n          l = e.cancelButtonContent,\n          c = e.onValidationFail,\n          u = e.validationMessage,\n          p = e.hint,\n          f = e.hideIcons,\n          g = e.buttonsAlign,\n          N = n._renderInput(),\n          B = w(\"\".concat(_), \"\".concat(x), f && \"\".concat(E)),\n          P = i || B,\n          V = w(\"\".concat(_), \"\".concat(m), f && \"\".concat(E)),\n          U = a || V,\n          D = d;\n\n      s && (D = s), r && (D = r);\n      var I = w(v, \"before\" === g && \"\".concat(h), \"after\" === g && \"\".concat(b));\n      return t.createElement(\"div\", null, t.createElement(\"div\", {\n        className: D,\n        editext: O\n      }, \"after\" === g && N, t.createElement(\"div\", {\n        className: I\n      }, t.createElement(\"button\", {\n        ref: n.saveButton,\n        editext: k,\n        type: \"button\",\n        className: P,\n        onClick: n.handleSave\n      }, o), t.createElement(\"button\", {\n        type: \"button\",\n        editext: S,\n        className: U,\n        onClick: n.handleCancel\n      }, l)), \"before\" === g && N), !n.state.valid && !c && t.createElement(\"div\", {\n        className: y\n      }, u), p && t.createElement(\"div\", {\n        className: C,\n        editext: j\n      }, p));\n    }), o(l(n), \"_renderViewMode\", function () {\n      var e = n.props,\n          i = e.viewProps,\n          o = e.editButtonClassName,\n          s = e.editButtonContent,\n          r = e.viewContainerClassName,\n          l = e.hideIcons,\n          c = e.buttonsAlign,\n          u = e.editOnViewClick,\n          d = e.showButtonsOnHover,\n          y = w(\"\".concat(_), \"\".concat(g), l && \"\".concat(E)),\n          m = o || y,\n          x = w(r || p, d && \"\".concat(f)),\n          C = w(v, \"before\" === c && \"\".concat(h), \"after\" === c && \"\".concat(b)),\n          O = u ? n.handleActivateEditMode : void 0;\n      return t.createElement(\"div\", {\n        className: x,\n        editext: N\n      }, \"after\" === c && t.createElement(\"div\", a({}, i, {\n        onClick: O,\n        editext: \"view\"\n      }), n.state.value), t.createElement(\"div\", {\n        className: C\n      }, t.createElement(\"button\", {\n        type: \"button\",\n        editext: B,\n        className: m,\n        onClick: n.handleActivateEditMode\n      }, s)), \"before\" === c && t.createElement(\"div\", a({}, i, {\n        onClick: O,\n        editext: N\n      }), n.state.value));\n    }), n.state = {\n      editing: e.editing,\n      valid: !0,\n      value: e.value || \"\",\n      savedValue: \"\"\n    }, n.saveButton = t.createRef(), n.input = t.createRef(), n;\n  }\n\n  var U, D, I;\n  return function (t, e) {\n    if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\");\n    t.prototype = Object.create(e && e.prototype, {\n      constructor: {\n        value: t,\n        writable: !0,\n        configurable: !0\n      }\n    }), e && r(t, e);\n  }(V, e), U = V, (D = [{\n    key: \"componentDidUpdate\",\n    value: function (t, e) {\n      var n = {};\n      void 0 !== this.props.value && t.value !== this.props.value && (n.value = this.props.value), void 0 !== t.editing && t.editing !== this.props.editing && (n.editing = this.props.editing), Object.keys(n).length > 0 && this.setState(n);\n    }\n  }, {\n    key: \"_renderInput\",\n    value: function () {\n      return \"textarea\" === this.props.type ? t.createElement(\"textarea\", a({\n        ref: this.input,\n        className: c,\n        editext: P\n      }, this.props.inputProps, {\n        value: this.state.value,\n        onChange: this.handleInputChange,\n        autoFocus: this.state.editing\n      })) : t.createElement(\"input\", a({\n        ref: this.input,\n        className: c,\n        editext: P\n      }, this.props.inputProps, {\n        onKeyDown: this.handleKeyDown,\n        value: this.state.value,\n        type: this.props.type,\n        onChange: this.handleInputChange,\n        autoFocus: this.state.editing\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function () {\n      var e = this.state.editing ? this._renderEditingMode() : this._renderViewMode(),\n          n = this.props,\n          i = n.mainContainerClassName,\n          o = n.className,\n          a = w(i || u, o);\n      return t.createElement(\"div\", {\n        className: a\n      }, e);\n    }\n  }]) && i(U.prototype, D), I && i(U, I), V;\n}();\n\nV.defaultProps = {\n  value: \"\",\n  type: \"text\",\n  validationMessage: \"Invalid Value\",\n  validation: function (t) {\n    return !0;\n  },\n  onEditingStart: function (t) {\n    return null;\n  },\n  onCancel: function (t) {\n    return null;\n  },\n  inputProps: {\n    onKeyDown: function (t) {}\n  },\n  viewProps: {},\n  cancelButtonContent: \"\",\n  saveButtonContent: \"\",\n  editButtonContent: \"\",\n  hideIcons: !1,\n  buttonsAlign: \"after\",\n  editing: !1\n}, V.propTypes = {\n  inputProps: n.object,\n  viewProps: n.object,\n  value: n.string.isRequired,\n  hint: n.node,\n  validationMessage: n.node,\n  validation: n.func,\n  onValidationFail: n.func,\n  type: n.oneOf([\"text\", \"textarea\", \"password\", \"email\", \"number\", \"date\", \"datetime-local\", \"time\", \"month\", \"url\", \"week\", \"tel\"]).isRequired,\n  onCancel: n.func,\n  onSave: n.func.isRequired,\n  onEditingStart: n.func,\n  className: n.string,\n  saveButtonClassName: n.string,\n  editButtonClassName: n.string,\n  cancelButtonClassName: n.string,\n  mainContainerClassName: n.string,\n  editContainerClassName: n.string,\n  viewContainerClassName: n.string,\n  cancelButtonContent: n.any,\n  saveButtonContent: n.any,\n  editButtonContent: n.any,\n  hideIcons: n.bool,\n  buttonsAlign: n.oneOf([\"after\", \"before\"]),\n  editOnViewClick: n.bool,\n  editing: n.bool,\n  showButtonsOnHover: n.bool,\n  submitOnEnter: n.bool,\n  cancelOnEscape: n.bool\n};\nexport default V;","map":{"version":3,"sources":["../src/index.js","../node_modules/style-inject/dist/style-inject.es.js"],"names":["classnames","Array","arguments","filter","a","join","_attrs","EdiText","Component","props","state","editing","valid","value","savedValue","saveButton","React","createRef","input","prevProps","_prevState","nextState","this","undefined","Object","keys","length","setState","submitOnEnter","inputProps","cancelOnEscape","_this","isEnter","some","e","keyCode","c","code","isEscape","handleSave","preventDefault","handleCancel","onKeyDown","target","onCancel","onEditingStart","onSave","validation","onValidationFail","type","ref","className","styles","editext","onChange","handleInputChange","autoFocus","handleKeyDown","saveButtonClassName","saveButtonContent","cancelButtonClassName","editContainerClassName","viewContainerClassName","cancelButtonContent","validationMessage","hint","hideIcons","buttonsAlign","inputElem","_renderInput","saveButtonDefaultClasses","saveButtonClass","cancelButtonDefaultClasses","cancelButtonClass","editContainerClass","buttonsContainerClass","onClick","viewProps","editButtonClassName","editButtonContent","editOnViewClick","showButtonsOnHover","editButtonDefaultClasses","editButtonClass","viewContainerClass","viewClickHandler","handleActivateEditMode","mode","_renderEditingMode","_renderViewMode","mainContainerClassName","clsName","defaultProps","propTypes","PropTypes","object","string","isRequired","node","func","oneOf","any","bool","css","insertAt","document","head","getElementsByTagName","style","createElement","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport styles from './styles.css'\n\nfunction classnames() {\n  /**\n   * Our simple classnames replica.\n   * This is enough for me.\n  */\n  return Array(...arguments).filter(a => a).join(' ')\n}\n\nconst _attrs = {\n  /**\n   * This is for the end user. You can use below attributes if you want to\n   * style this component with `styled-components` or something like that.\n   * Example notation:\n   * <div class=\"EdiText_Buttons__container_34fgAsdf\" editext=\"button-container\">\n   * Example usage with styled-components:\n\n    const StyledEdiText = styled(EdiText)`\n      button[editext=\"edit-button\"] {\n        color: #000;\n      }\n      button[editext=\"save-button\"] {\n        background:#587C0C;\n        color: #fff;\n      }\n      input, textarea {\n        background: #1D2225;\n        color: #F4C361;\n        font-weight: bold;\n      }\n    `\n   */\n  viewContainer: 'view-container',\n  buttonContainer: 'button-container',\n  editContainer: 'edit-container',\n  editButton: 'edit-button',\n  saveButton: 'save-button',\n  cancelButton: 'cancel-button',\n  input: 'input',\n  hint: 'hint'\n}\n\nexport default class EdiText extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      editing: props.editing,\n      valid: true,\n      value: props.value || '',\n      savedValue: ''\n    }\n    this.saveButton = React.createRef()\n    this.input = React.createRef()\n  }\n\n  componentDidUpdate(prevProps, _prevState) {\n    const nextState = {}\n    if (this.props.value !== undefined && prevProps.value !== this.props.value) {\n      nextState.value = this.props.value\n    }\n\n    if (\n      prevProps.editing !== undefined &&\n      prevProps.editing !== this.props.editing\n    ) {\n      nextState.editing = this.props.editing\n    }\n\n    if (Object.keys(nextState).length > 0) {\n      // eslint-disable-next-line react/no-did-update-set-state\n      this.setState(nextState)\n    }\n  }\n\n  handleKeyDown = e => {\n    const { submitOnEnter, inputProps, cancelOnEscape } = this.props\n    const isEnter = [13, 'Enter'].some(c => e.keyCode === c || e.code === c)\n    const isEscape = [27, 'Escape', 'Esc'].some(c => e.keyCode === c || e.code === c)\n    if (isEnter) {\n      submitOnEnter && this.handleSave()\n      e.preventDefault()\n    }\n    if (isEscape) {\n      cancelOnEscape && this.handleCancel()\n      e.preventDefault()\n    }\n    inputProps.onKeyDown && inputProps.onKeyDown(e) // TODO: this sucks.\n  }\n\n  handleInputChange = e => {\n    this.setState({\n      valid: true,\n      value: e.target.value\n    })\n  }\n\n  handleCancel = () => {\n    this.setState(\n      {\n        valid: true,\n        editing: false,\n        value: this.state.savedValue || this.props.value\n      },\n      () => this.props.onCancel(this.state.value, this.props.inputProps)\n    )\n  }\n\n  handleActivateEditMode = () => {\n    this.setState({\n      editing: true\n    }, () => { this.props.onEditingStart(this.state.value) })\n  }\n\n  handleSave = () => {\n    const { onSave, validation, onValidationFail, inputProps } = this.props\n    const isValid = validation(this.state.value)\n    if (!isValid) {\n      return this.setState({ valid: false }, () => {\n        onValidationFail && onValidationFail(this.state.value)\n      })\n    }\n    this.setState(\n      {\n        editing: false,\n        savedValue: this.state.value\n      },\n      () => onSave(this.state.savedValue, inputProps)\n    )\n  }\n\n  _renderInput() {\n    if (this.props.type === 'textarea') {\n      return (\n        <textarea\n          ref={this.input}\n          className={styles.Editext__input}\n          editext={_attrs.input}\n          {...this.props.inputProps}\n          value={this.state.value}\n          onChange={this.handleInputChange}\n          autoFocus={this.state.editing}\n        />\n      )\n    } else {\n      return (\n        <input\n          ref={this.input}\n          className={styles.Editext__input}\n          editext={_attrs.input}\n          {...this.props.inputProps}\n          onKeyDown={this.handleKeyDown}\n          value={this.state.value}\n          type={this.props.type}\n          onChange={this.handleInputChange}\n          autoFocus={this.state.editing}\n        />\n      )\n    }\n  }\n\n  _renderEditingMode = () => {\n    const {\n      saveButtonClassName,\n      saveButtonContent,\n      cancelButtonClassName,\n      editContainerClassName,\n      viewContainerClassName,\n      cancelButtonContent,\n      onValidationFail,\n      validationMessage,\n      hint,\n      hideIcons,\n      buttonsAlign\n    } = this.props\n    const inputElem = this._renderInput()\n    // calculate save button classes\n    const saveButtonDefaultClasses = classnames(\n      `${styles.Editext__button}`,\n      `${styles.Editext__save_button}`,\n      hideIcons && `${styles.Editext__hide_default_icons}`\n    )\n    const saveButtonClass = saveButtonClassName || saveButtonDefaultClasses\n    // calculate cancel button classes\n    const cancelButtonDefaultClasses = classnames(\n      `${styles.Editext__button}`,\n      `${styles.Editext__cancel_button}`,\n      hideIcons && `${styles.Editext__hide_default_icons}`\n    )\n    const cancelButtonClass =\n      cancelButtonClassName || cancelButtonDefaultClasses\n    let editContainerClass = styles.Editext__editing_container\n    if (editContainerClassName) editContainerClass = editContainerClassName\n    if (viewContainerClassName) editContainerClass = viewContainerClassName\n    const buttonsContainerClass = classnames(\n      styles.Editext__buttons_container,\n      buttonsAlign === 'before' && `${styles.Editext__buttons_before_aligned}`,\n      buttonsAlign === 'after' && `${styles.Editext__buttons_after_aligned}`\n    )\n    return (\n      <div>\n        <div className={editContainerClass} editext={_attrs.editContainer}>\n          {buttonsAlign === 'after' && inputElem}\n          <div\n            className={buttonsContainerClass}\n          >\n            <button\n              ref={this.saveButton}\n              editext={_attrs.saveButton}\n              type='button'\n              className={saveButtonClass}\n              onClick={this.handleSave}\n            >\n              {saveButtonContent}\n            </button>\n            <button\n              type='button'\n              editext={_attrs.cancelButton}\n              className={cancelButtonClass}\n              onClick={this.handleCancel}\n            >\n              {cancelButtonContent}\n            </button>\n          </div>\n          {buttonsAlign === 'before' && inputElem}\n        </div>\n        {!this.state.valid && !onValidationFail && (\n          <div className={styles.Editext__validation_message}>\n            {validationMessage}\n          </div>\n        )}\n        {hint &&\n          <div className={styles.Editext__hint} editext={_attrs.hint}>\n            {hint}\n          </div>}\n      </div>\n    )\n  }\n\n  _renderViewMode = () => {\n    const {\n      viewProps,\n      editButtonClassName,\n      editButtonContent,\n      viewContainerClassName,\n      hideIcons,\n      buttonsAlign,\n      editOnViewClick,\n      showButtonsOnHover\n    } = this.props\n    // calculate edit button classes\n    const editButtonDefaultClasses = classnames(\n      `${styles.Editext__button}`,\n      `${styles.Editext__edit_button}`,\n      hideIcons && `${styles.Editext__hide_default_icons}`\n    )\n    const editButtonClass = editButtonClassName || editButtonDefaultClasses\n    const viewContainerClass = classnames(\n      viewContainerClassName || styles.Editext__view_container,\n      showButtonsOnHover && `${styles.Editext__buttons_showButtonsOnHover}`\n    )\n    const buttonsContainerClass = classnames(\n      styles.Editext__buttons_container,\n      buttonsAlign === 'before' && `${styles.Editext__buttons_before_aligned}`,\n      buttonsAlign === 'after' && `${styles.Editext__buttons_after_aligned}`\n    )\n    const viewClickHandler = editOnViewClick\n      ? this.handleActivateEditMode\n      : undefined\n    return (\n      <div className={viewContainerClass} editext={_attrs.viewContainer}>\n        {buttonsAlign === 'after' && (\n          <div {...viewProps} onClick={viewClickHandler} editext='view'>\n            {this.state.value}\n          </div>\n        )}\n        <div className={buttonsContainerClass}>\n          <button\n            type='button'\n            editext={_attrs.editButton}\n            className={editButtonClass}\n            onClick={this.handleActivateEditMode}\n          >\n            {editButtonContent}\n          </button>\n        </div>\n        {buttonsAlign === 'before' && (\n          <div {...viewProps} onClick={viewClickHandler} editext={_attrs.viewContainer}>\n            {this.state.value}\n          </div>\n        )}\n      </div>\n    )\n  }\n\n  render() {\n    const mode = this.state.editing\n      ? this._renderEditingMode()\n      : this._renderViewMode()\n    const { mainContainerClassName, className } = this.props\n    const clsName = classnames(\n      mainContainerClassName || styles.Editext__main_container, className\n    )\n    return <div className={clsName}>{mode}</div>\n  }\n}\n\nEdiText.defaultProps = {\n  value: '',\n  type: 'text',\n  validationMessage: 'Invalid Value',\n  validation: _v => true,\n  onEditingStart: _v => null,\n  onCancel: _v => null,\n  inputProps: { onKeyDown: _e => { } },\n  viewProps: {},\n  cancelButtonContent: '',\n  saveButtonContent: '',\n  editButtonContent: '',\n  hideIcons: false,\n  buttonsAlign: 'after',\n  editing: false\n}\n\nEdiText.propTypes = {\n  inputProps: PropTypes.object,\n  viewProps: PropTypes.object,\n  value: PropTypes.string.isRequired,\n  hint: PropTypes.node,\n  validationMessage: PropTypes.node,\n  validation: PropTypes.func,\n  onValidationFail: PropTypes.func,\n  type: PropTypes.oneOf([\n    'text',\n    'textarea',\n    'password',\n    'email',\n    'number',\n    'date',\n    'datetime-local',\n    'time',\n    'month',\n    'url',\n    'week',\n    'tel'\n  ]).isRequired,\n  // Events\n  onCancel: PropTypes.func,\n  onSave: PropTypes.func.isRequired,\n  onEditingStart: PropTypes.func,\n  // classNames\n  className: PropTypes.string,\n  saveButtonClassName: PropTypes.string,\n  editButtonClassName: PropTypes.string,\n  cancelButtonClassName: PropTypes.string,\n  mainContainerClassName: PropTypes.string,\n  editContainerClassName: PropTypes.string,\n  viewContainerClassName: PropTypes.string,\n  // Custom Button Texts\n  cancelButtonContent: PropTypes.any,\n  saveButtonContent: PropTypes.any,\n  editButtonContent: PropTypes.any,\n  hideIcons: PropTypes.bool,\n  buttonsAlign: PropTypes.oneOf(['after', 'before']),\n  editOnViewClick: PropTypes.bool,\n  editing: PropTypes.bool,\n  showButtonsOnHover: PropTypes.bool,\n  submitOnEnter: PropTypes.bool,\n  cancelOnEscape: PropTypes.bool\n}\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n"]},"metadata":{},"sourceType":"module"}