{"ast":null,"code":"/* eslint-disable import/prefer-default-export */\nimport axios from 'axios';\nconst serverURL = 'http://localhost:8001/api';\n\nconst login = async loginObj => {\n  const res = await axios.post(`${serverURL}/auth/login`, loginObj);\n  const _res$data = res.data,\n        token = _res$data.token,\n        username = _res$data.username;\n\n  if (!token) {\n    console.log('bad login');\n    return false;\n  }\n\n  window.localStorage.setItem('authorization', token);\n  window.localStorage.setItem('username', username);\n  return true;\n};\n\nconst register = async registerObj => {\n  const config = {\n    headers: {\n      authorization: window.localStorage.authorization\n    }\n  };\n  const res = await axios.post(`${serverURL}/auth/register`, registerObj, config);\n  const _res$data2 = res.data,\n        error = _res$data2.error,\n        token = _res$data2.token;\n  console.log(res);\n\n  if (error) {\n    console.log(error);\n  } else {\n    window.localStorage.setItem('authorization', token);\n  }\n};\n\nconst guest = async guestObj => {\n  const res = await axios.post(`${serverURL}/auth/guest`, guestObj);\n  const _res$data3 = res.data,\n        error = _res$data3.error,\n        token = _res$data3.token;\n\n  if (error) {\n    console.log(error);\n  } else {\n    window.localStorage.setItem('authorization', token);\n  }\n};\n\nexport default {\n  register,\n  guest,\n  login\n};","map":{"version":3,"sources":["/home/hei/Documents/finals/JEK/client/src/service/authService.js"],"names":["axios","serverURL","login","loginObj","res","post","data","token","username","console","log","window","localStorage","setItem","register","registerObj","config","headers","authorization","error","guest","guestObj"],"mappings":"AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,SAAS,GAAG,2BAAlB;;AAEA,MAAMC,KAAK,GAAG,MAAOC,QAAP,IAAoB;AAChC,QAAMC,GAAG,GAAG,MAAMJ,KAAK,CAACK,IAAN,CAAY,GAAEJ,SAAU,aAAxB,EAAsCE,QAAtC,CAAlB;AADgC,oBAEJC,GAAG,CAACE,IAFA;AAAA,QAExBC,KAFwB,aAExBA,KAFwB;AAAA,QAEjBC,QAFiB,aAEjBA,QAFiB;;AAGhC,MAAI,CAACD,KAAL,EAAY;AACVE,IAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACA,WAAO,KAAP;AACD;;AACDC,EAAAA,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,eAA5B,EAA6CN,KAA7C;AACAI,EAAAA,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,UAA5B,EAAwCL,QAAxC;AACA,SAAO,IAAP;AACD,CAVD;;AAYA,MAAMM,QAAQ,GAAG,MAAOC,WAAP,IAAuB;AACtC,QAAMC,MAAM,GAAG;AACbC,IAAAA,OAAO,EAAE;AAAEC,MAAAA,aAAa,EAAEP,MAAM,CAACC,YAAP,CAAoBM;AAArC;AADI,GAAf;AAGA,QAAMd,GAAG,GAAG,MAAMJ,KAAK,CAACK,IAAN,CAAY,GAAEJ,SAAU,gBAAxB,EAAyCc,WAAzC,EAAsDC,MAAtD,CAAlB;AAJsC,qBAKbZ,GAAG,CAACE,IALS;AAAA,QAK9Ba,KAL8B,cAK9BA,KAL8B;AAAA,QAKvBZ,KALuB,cAKvBA,KALuB;AAMtCE,EAAAA,OAAO,CAACC,GAAR,CAAYN,GAAZ;;AACA,MAAIe,KAAJ,EAAW;AACTV,IAAAA,OAAO,CAACC,GAAR,CAAYS,KAAZ;AACD,GAFD,MAEO;AACLR,IAAAA,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,eAA5B,EAA6CN,KAA7C;AACD;AACF,CAZD;;AAcA,MAAMa,KAAK,GAAG,MAAOC,QAAP,IAAoB;AAChC,QAAMjB,GAAG,GAAG,MAAMJ,KAAK,CAACK,IAAN,CAAY,GAAEJ,SAAU,aAAxB,EAAsCoB,QAAtC,CAAlB;AADgC,qBAEPjB,GAAG,CAACE,IAFG;AAAA,QAExBa,KAFwB,cAExBA,KAFwB;AAAA,QAEjBZ,KAFiB,cAEjBA,KAFiB;;AAGhC,MAAIY,KAAJ,EAAW;AACTV,IAAAA,OAAO,CAACC,GAAR,CAAYS,KAAZ;AACD,GAFD,MAEO;AACLR,IAAAA,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,eAA5B,EAA6CN,KAA7C;AACD;AACF,CARD;;AAUA,eAAe;AACbO,EAAAA,QADa;AAEbM,EAAAA,KAFa;AAGblB,EAAAA;AAHa,CAAf","sourcesContent":["/* eslint-disable import/prefer-default-export */\nimport axios from 'axios';\n\nconst serverURL = 'http://localhost:8001/api';\n\nconst login = async (loginObj) => {\n  const res = await axios.post(`${serverURL}/auth/login`, loginObj);\n  const { token, username } = res.data;\n  if (!token) {\n    console.log('bad login');\n    return false;\n  }\n  window.localStorage.setItem('authorization', token);\n  window.localStorage.setItem('username', username);\n  return true;\n};\n\nconst register = async (registerObj) => {\n  const config = {\n    headers: { authorization: window.localStorage.authorization },\n  };\n  const res = await axios.post(`${serverURL}/auth/register`, registerObj, config);\n  const { error, token } = res.data;\n  console.log(res);\n  if (error) {\n    console.log(error);\n  } else {\n    window.localStorage.setItem('authorization', token);\n  }\n};\n\nconst guest = async (guestObj) => {\n  const res = await axios.post(`${serverURL}/auth/guest`, guestObj);\n  const { error, token } = res.data;\n  if (error) {\n    console.log(error);\n  } else {\n    window.localStorage.setItem('authorization', token);\n  }\n};\n\nexport default {\n  register,\n  guest,\n  login,\n};\n"]},"metadata":{},"sourceType":"module"}